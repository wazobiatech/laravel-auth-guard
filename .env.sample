# Laravel Auth Guard Package Environment Configuration
# Copy this file to your Laravel application's .env file and update the values

# =============================================================================
# MERCURY SERVICE CONFIGURATION
# =============================================================================
# Base URL for Mercury JWKS service (without trailing slash)
MERCURY_BASE_URL=https://mercury.tiadara.com

# Shared secret for signature verification between services
SIGNATURE_SHARED_SECRET=your-shared-secret-here

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Cache TTL for JWT tokens and JWKS keys (in seconds)
# Default: 3600 seconds (1 hour)
AUTH_CACHE_TTL=3600

# =============================================================================
# SERVICE IDENTIFICATION
# =============================================================================
# Unique identifier for this service instance
SERVICE_ID=your-service-id

# =============================================================================
# JWT CONFIGURATION
# =============================================================================
# JWT signing algorithm (default: RS256)
JWT_ALGORITHM=RS256

# =============================================================================
# HTTP HEADERS CONFIGURATION
# =============================================================================
# Header name for JWT tokens (default: Authorization)
AUTH_JWT_HEADER=Authorization

# Header name for project tokens (default: X-Project-Token)
AUTH_PROJECT_TOKEN_HEADER=X-Project-Token

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Enable/disable detailed authentication logging
# Set to true for debugging, false for production
AUTH_LOGGING_ENABLED=true

# Log channel for authentication events (must exist in config/logging.php)
AUTH_LOG_CHANNEL=single

# =============================================================================
# REDIS CONFIGURATION (Required for Token Blacklisting)
# =============================================================================
# Redis connection for authentication token blacklist
# This should match a connection name in your config/database.php
REDIS_AUTH_CONNECTION=auth

# Redis URL for auth connection (if using single Redis instance)
REDIS_URL=redis://localhost:6379

# Redis auth database number (default: 2 for auth connection)
REDIS_AUTH_DB=2

# Redis auth connection settings (if using separate Redis instance)
REDIS_AUTH_HOST=127.0.0.1
REDIS_AUTH_PORT=6379
REDIS_AUTH_PASSWORD=null

# =============================================================================
# GRAPHQL CONFIGURATION (Optional)
# =============================================================================
# Enable GraphQL authentication directives
GRAPHQL_AUTH_ENABLED=true

# =============================================================================
# HEALTH CHECK CONFIGURATION (Optional)
# =============================================================================
# Enable health check endpoints for monitoring
HEALTH_CHECK_ENABLED=true